<h6 style="color: white"><a routerLink="/">Home</a>/ Joueurs</h6>
<div class="container" style="margin-top: 30px">
  <div class="row">
    <div class="col">
    </div>

    <div class="col-sm-12">
      <button mat-button style="float:center;background-color: rgb(197, 233, 126); margin: 30px"
        (click)="onOpenDialogAdd()">Ajouter un Joueur
      </button>
      <button mat-button style="float:center; background-color: rgb(190, 158, 120); margin: 30px"
        (click)="onGetAll()">Actualiser Liste
      </button>

      <mat-card class="entete" style="background-color: darkslategray">
        <mat-card-header>
          <h4>Liste de Joueurs</h4>
          <div class="float-right">
          </div>
        </mat-card-header>

        <mat-card-content>
          <table class="table table-dark table-striped" *ngIf='players$ | async as players; else loadingError'>

            <thead>
              <tr>
                <th>Id</th>
                <th>Pr√©nom</th>
                <th>Nom</th>
                <th>Email</th>
                <th colspan="2" style="text-align : center">Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor='let p of players'>
                <td>{{ p.id }}</td>
                <td>{{ p.firstName }}</td>
                <td>{{ p.lastName }}</td>
                <td>{{ p.mail }}</td>
                <td style="text-align : center">
                  <button mat-button style="background-color: rgb(157, 157, 209)"
                    (click)="onOpenDialogUpdate(p.id)">Modifier
                  </button>
                </td>
                <td style="text-align : center">
                  <button mat-button style="background-color: rgb(170, 83, 83)" (click)="onDelete(p.id)">Supprimer
                  </button>
                </td>
              </tr>
            </tbody>
          </table>

          <ng-template #loadingError>
            <div *ngIf='error$ | async; else loading'>
              Error loading liste. Essayer plus tard.
            </div>
          </ng-template>
          <ng-template #loading>
            <span> Loading Liste Joueurs... </span>
          </ng-template>

        </mat-card-content>
      </mat-card>
    </div>
    <div class="col">
    </div>
  </div>
</div>

